<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>World Pieces - Cadastro</title>
  <link rel="apple-touch-icon" sizes="180x180" href="../icone/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../icone/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../icone/favicon-32x32.png">
  <link rel="stylesheet" href="../styles/cadastro styles/styles.css" />
  <link rel="stylesheet" href="../styles/cadastro styles/formulario.css" />
  <link rel="stylesheet" href="../styles/cadastro styles/header.css" />
</head>
<body>
  <header>
    <div class="logo">
      <h1>World Pieces</h1>
    </div>
    <nav>
      <ul>
        <li><a href="../paginas/home.html">Home</a></li>
        <li>
          <a href="../paginas/peças.html">Peças</a>
          <ul class="submenu">
            <li><a href="../paginas Peças/processadores.html">Processadores</a></li>
            <li><a href="../paginas Peças/placadevideo.html">Placa de Vídeo</a></li>
            <li><a href="../paginas Peças/fonte">Fonte</a></li>
            <li><a href="../paginas Peças/placamãe.html">Placa Mãe</a></li>
            <li><a href="../paginas Peças/ssd.html">SSD, HD</a></li>
            <li><a href="../paginas Peças/memoria ram.html">Memória RAM</a></li>
            <li><a href="../paginas Peças/notebook.html">Notebook</a></li>
            <li><a href="../paginas Peças/water cooler.html">Water Cooler</a></li>
            <li><a href="../paginas Peças/fone.html">Fone</a></li>
            <li><a href="../paginas Peças/mouse.html">Mouse</a></li>
            <li><a href="../paginas Peças/teclado.html">Teclado</a></li>
            <li><a href="../paginas Peças/gabinete.html">Gabinete</a></li>
          </ul>
        </li>
        <li><a href="../paginas/sobre.html">Sobre</a></li>
        <li><a href="../paginas/login.html">Login</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section id="cadastro">
      <h2>Cadastro</h2>
      <form id="cadastroForm">
        <input type="text" id="nome" placeholder="Nome" required><br>
        <input type="email" id="email" placeholder="Email" required><br>
        <input type="password" id="senha" placeholder="Senha" required><br>
        <input type="password" id="confirmarSenha" placeholder="Confirmar Senha" required><br>

        <h3>Endereço</h3>
        <input type="text" id="endereco" placeholder="Endereço" required><br>
        <input type="text" id="cidade" placeholder="Cidade" required><br>
        <input type="text" id="estado" placeholder="Estado" required><br>
        <input type="text" id="cep" placeholder="CEP" required><br>

        <h3>Cartão de Crédito</h3>
        <input type="text" id="numeroCartao" placeholder="Número do cartão" required><br>
        <input type="text" id="nomeCartao" placeholder="Nome no cartão" required><br>
        <input type="text" id="validade" placeholder="Validade (MM/AA)" required><br>
        <input type="text" id="cvv" placeholder="CVV" required><br>

        <button type="submit">Cadastrar</button>
      </form>
      <p id="mensagem"></p>
    </section>
  </main>

  <script>
    document.getElementById('cadastroForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const nome = document.getElementById('nome').value;
      const email = document.getElementById('email').value;
      const senha = document.getElementById('senha').value;
      const confirmar = document.getElementById('confirmarSenha').value;
      const msg = document.getElementById('mensagem');

      const endereco = document.getElementById('endereco').value;
      const cidade = document.getElementById('cidade').value;
      const estado = document.getElementById('estado').value;
      const cep = document.getElementById('cep').value;

      const numeroCartao = document.getElementById('numeroCartao').value;
      const nomeCartao = document.getElementById('nomeCartao').value;
      const validade = document.getElementById('validade').value;
      const cvv = document.getElementById('cvv').value;

      if (senha !== confirmar) {
        msg.textContent = 'Senhas diferentes!';
        msg.style.color = 'red';
        return;
      }

      const usuario = {
        nome,
        email,
        senha,
        endereco: {
          endereco,
          cidade,
          estado,
          cep
        },
        cartao: {
          numero: numeroCartao,
          nome: nomeCartao,
          validade,
          cvv
        }
      };

      localStorage.setItem(email, JSON.stringify(usuario));

      msg.textContent = 'Cadastro realizado com sucesso! Redirecionando...';
      msg.style.color = 'green';

      setTimeout(() => {
        window.location.href = "../paginas/login.html";
      }, 2000); // redireciona após 2 segundos
    });
  </script>
</body>
</html>